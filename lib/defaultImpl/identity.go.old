package defaultImpl

import (
	"errors"

	"github.com/hyperledger/fabric-cop/idp"
)

func newIdentity(name string, key []byte, cert []byte) *Identity {
	id := new(Identity)
	id.name = name
	id.publicSigner = newTemporalSigner(key, cert)
	return id
}

// Identity is COP's implementation of an idp.Identity
type Identity struct {
	name         string
	publicSigner *TemporalSigner
}

// Name returns the identity name
func (i *Identity) Name() string {
	return i.name
}

// GetPublicSigner returns the public signer for this identity
func (i *Identity) GetPublicSigner() idp.TemporalSigner {
	return i.publicSigner
}

// GetPrivateSigners returns private signers for this identity
func (i *Identity) GetPrivateSigners(req *idp.GetPrivateSignersRequest) ([]idp.TemporalSigner, error) {
	return nil, errors.New("NotImplemented")
}

// GetAttributeNames returns the names of all attributes associated with this identity
func (i *Identity) GetAttributeNames() ([]string, error) {
	return nil, errors.New("NotImplemented")
}

// Delete this identity completely and revoke all of it's signers
func (i *Identity) Delete() error {
	return errors.New("NotImplemented")
}

// Serialize an identity
func (i *Identity) Serialize() []byte {
	// TODO: Implement
	return nil
}
